(this["webpackJsonptax-defi"]=this["webpackJsonptax-defi"]||[]).push([[4],{684:function(e,t,a){"use strict";a.r(t),a.d(t,"client",(function(){return C}));var o=a(0),n=a.n(o),r=a(69),c=a(136),i=(a(193),a(40)),s=a(573),d=a(49),p=(a(71),a(123)),h=a(122),l=a.n(h),u=a(280),g=a(576),x=a(578),b=a(205),f=a(2);const m=Object(d.a)((e=>({card:{backgroundColor:e.palette.secondary.dark,color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:"210px",height:"210px",background:e.palette.secondary[800],borderRadius:"50%",top:"-85px",right:"-95px",[e.breakpoints.down("xs")]:{top:"-105px",right:"-140px"}},"&:before":{content:'""',position:"absolute",width:"210px",height:"210px",background:e.palette.secondary[800],borderRadius:"50%",top:"-125px",right:"-15px",opacity:.5,[e.breakpoints.down("xs")]:{top:"-155px",right:"-70px"}}},content:{padding:"20px !important"},avatar:{...e.typography.commonAvatar,...e.typography.largeAvatar,backgroundColor:e.palette.secondary[800],marginTop:"8px"},avatarRight:{...e.typography.commonAvatar,...e.typography.mediumAvatar,backgroundColor:e.palette.secondary.dark,color:e.palette.secondary[200],zIndex:1},cardHeading:{fontSize:"2.125rem",fontWeight:500,marginRight:"8px",marginTop:"14px",marginBottom:"6px"},subHeading:{fontSize:"1rem",fontWeight:500,color:e.palette.secondary[200]},avatarCircle:{cursor:"pointer",...e.typography.smallAvatar,backgroundColor:e.palette.secondary[200],color:e.palette.secondary.dark},circleIcon:{transform:"rotate3d(1, 1, 1, 45deg)"},menuItem:{marginRight:"14px",fontSize:"1.25rem"}}))),j=new u.a({uri:"https://api.subquery.network/sq/jamesbayly/transaction-list"}),C=new g.a({cache:new x.a,link:b.a.from([j])});t.default=Object(s.a)(m)((function(e){let{currentUser:t,wallet:a,selection:s,onSelection:d}=e;const[h,u]=n.a.useState({}),[g,x]=n.a.useState([]),[b,j]=n.a.useState([]),[C,v]=n.a.useState(null),[y,E]=n.a.useState(!0),[k,w]=Object(o.useState)([]);m();const[S,O]=n.a.useState(1),A=t.accountId;return A?(Object(o.useEffect)((()=>{E(!0),fetch("https://api-testnet.nearblocks.io/v1/txns/count?from=".concat(A),{method:"GET",headers:{Authorization:"Bearer 5CF714ACEE2E410D9C1C593CE0E09C21"}}).then((e=>e.json())).then((e=>{console.log(e),parseInt(e.txns[0].count,10)})).then((()=>{fetch("https://api-testnet.nearblocks.io/v1/txns?from=".concat(A,"&page=1&per_page=15&order=desc"),{method:"GET",headers:{Authorization:"Bearer 5CF714ACEE2E410D9C1C593CE0E09C21"}}).then((e=>e.json())).then((e=>{u(e);const t=new Set;e.txns.forEach((e=>{t.add(e.receiver_account_id)}));t.forEach((e=>x((t=>[...t,{id:e}])))),E(!1)}))}))}),[]),Object(f.jsxs)(c.a,{title:"Accounts",children:[Object(f.jsx)("div",{style:{height:550,width:"100%"},children:Object(f.jsx)(p.a,{rows:g,columns:[{field:"id",headerName:"TO ID",flex:1}],pageSize:15,rowsPerPageOptions:[15],checkboxSelection:!0,loading:y,onSelectionModelChange:e=>{w(e)},selectionModel:k,onPageChange:e=>{var t;t=e,E(!0),O(t),fetch("https://api-testnet.nearblocks.io/v1/txns?from=".concat(A,"&page=").concat(t,"&per_page=15&order=desc"),{method:"GET",headers:{Authorization:"Bearer 5CF714ACEE2E410D9C1C593CE0E09C21"}}).then((e=>e.json())).then((e=>{u(e);const t=new Set;e.txns.forEach((e=>{t.add(e.receiver_account_id)})),t.forEach((e=>x((t=>[...t,{id:e}])))),E(!1)}))},paginationMode:"server"})}),Object(f.jsx)(r.a,{component:i.b,to:"/transaction/details",variant:"contained",endIcon:Object(f.jsx)(l.a,{}),onClick:e=>{d(k)},children:"Search"})]})):Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:"No account found; Either connect via wallet"}),Object(f.jsx)("div",{}),Object(f.jsx)(r.a,{variant:"contained",endIcon:Object(f.jsx)(l.a,{}),component:i.b,to:"/dashboard",children:"Click to return to dashboard"})]})}))}}]);
//# sourceMappingURL=4.78308019.chunk.js.map